# DMA
작성자: 김다인

---

### Direct Memory Access
직접 메모리 접근(DMA)은 **특정 하드웨어 하위 시스템이 CPU와 독립적으로 메인 시스템 메모리에 접근할 수 있게** 해주는 컴퓨터 시스템 기능이다.  

### DMA는 왜 등장했는가?
DMA 등장 이유를 알려면 **PIO**(프로그램 입출력, Programmed Input/Output)를 알아야 한다. 프로그램 입출력은 **네트워크 어댑터나 ATA 기억 장치 같은 주변 기기와 CPU 사이에서 데이터를 주고받는 방식**이다.  
쉽게 말해 **장치들 사이에서 전송되는 모든 데이터가 CPU를 거쳐가는 방식**인데, 모든 메모리의 접근 연산이 CPU에 의해서만 이뤄질 경우 주변 장치가 메모리 접근을 시도할 때마다 *인터럽트로 CPU 작업을 방해*하게 되어 CPU 사용 효율성이 저하된다는 문제점이 있다.  
DMA는 이 같은 PIO의 단점을 보완하기 위해 등장했다.  

### DMA의 역할
주변 장치 데이터는 장치 컨트롤러에 의해 로컬 버퍼로 이동한다. 전송할 데이터가 많은 경우, 많은 양의 데이터 이동으로 CPU가 계속 인터럽트를 당하면 성능상 부담이 커지는데 이 때 DMA를 이용하게 된다. DMA를 사용하면 **로컬 버퍼에서 메모리로 읽는 작업을 CPU가 아닌 DMA가 대행**하기 때문에, CPU는 원래 하던 작업을 멈추고 인터럽트를 처리할 필요가 없어지는 것이다.  
장치 컨트롤러가 데이터 한 블록을 이동시키는데, 이 과정에서 DMA로 인해 CPU가 개입할 필요가 없어진다. **CPU에서는 데이터 이동이 완료됐다는 단 1번의 인터럽트만 발생**하며, 데이터가 전송되는 동안 CPU는 다른 작업을 수행할 수 있게 되어 효율성이 높아지게 되는 것이다.  
디스크 드라이브 컨트롤러, 그래픽 카드, 네트워크 카드, 사운드 카드 등 많은 하드웨어 시스템이 DMA를 사용한다. DMA는 메모리 간 복사나 데이터 이동에도 쓰일 수 있다.  

---
* [위키백과 : 직접 메모리 접근](https://ko.wikipedia.org/wiki/%EC%A7%81%EC%A0%91_%EB%A9%94%EB%AA%A8%EB%A6%AC_%EC%A0%91%EA%B7%BC)
* [위키백과 : 프로그램 입출력](https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8_%EC%9E%85%EC%B6%9C%EB%A0%A5)
* [brave-tech-interview](https://github.com/brave-people/brave-tech-interview/blob/main/contents/os.md)
